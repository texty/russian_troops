<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet-src.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js'></script>

    <!-- Marker Cluster Plugin-->
    <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.Default.css" />  
    <script type="text/javascript" src="https://unpkg.com/leaflet.markercluster@1.0.6/dist/leaflet.markercluster-src.js"></script>

    <!-- JQuery -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.1.js"></script>
    
    <!-- Pattern fill library -->
    <script src='lib/leaflet-polygon.fillPattern.js'></script>

    <!-- Slider library -->
    <link rel="stylesheet" href='lib/splide.min.css'/>
    <script src='lib/splide.min.js'></script>

    <!-- Image comparison -->
    <link rel="stylesheet" href="lib/image-compare-viewer.min.css" type="text/css">  
    <script src="lib/image-compare-viewer.min.js"></script>

    <!-- Archived -->
    <!--   <script src="lib/leaflet-providers.js"></script>--> 
    <!--   <script src='https://npmcdn.com/@turf/turf/turf.min.js'></script> -->
    <!--   <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.css" /> --> 

    <link rel="stylesheet" href='css/styles.css' />

</head>
 
  <body>

    <div id="map"></div>
    
    <div id="photos">
      <div class="splide">
        <div class="splide__track">
          <ul class="splide__list">
            <li class="splide__slide"><img class="item" src='img/1.jpg'/></li>
            <li class="splide__slide"><img class="item" src='img/1.jpg'/></li>
            <li class="splide__slide"><img class="item" src='img/1.jpg'/></li>
            <li class="splide__slide"><img class="item" src='img/1.jpg'/></li>
            <li class="splide__slide"><img class="item" src='img/1.jpg'/></li>
            <li class="splide__slide"><img class="item" src='img/1.jpg'/></li>          
          </ul>
        </div>

        <div class="my-slider-progress">
          <div class="my-slider-progress-bar"></div>
        </div>
      </div>
  </div>

<div id='comparison-wrapper'>
    <div class="close">
            <span class="close-btn">&times;</span>   
    </div>
    <div id="comparison">
      <img id="before" src="img/1.jpg" alt="BEFORE" />
      <img id="after" src="img/2.jpg" alt="AFTER" />
    </div>
</div>


<script src='js/main.js'></script>
    
    <script>
      const element = document.getElementById("comparison");
      const myViewer = new ImageCompare(element).mount();     


      // Get the modal
      var modal = document.getElementById("comparison");
      var modal_wrapper = document.getElementById("comparison-wrapper");

      document.getElementsByClassName("close")[0]
        .addEventListener("click", function(){            
            document.getElementById('comparison-wrapper').style.display = "none";
      });

      // When the user clicks anywhere outside of the modal
      window.onclick = function(event) {
          if(event.target === modal_wrapper) {
            document.getElementById('comparison-wrapper').style.display = "none";
          }
      }
    </script>
  </body>
</html>
